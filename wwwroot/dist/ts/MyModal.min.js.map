{"version":3,"sources":["MyModal.min.js"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","verb","n","v","op","f","TypeError","_","y","t","call","label","ops","pop","trys","length","push","g","sent","throw","return","Symbol","iterator","ModalMount","model","modalContainerId","modalId","selector","autoClose","viewTime","forceHideTarget","formContainerId","formSelector","formId","TimerInfo","counter","timer","counterFunc","timerFunc","DimensionInfo","top","left","width","height","forceDimension","ModalInfo","modalInfo","modalMount","dimensionInfo","timerInfo","MyModal","GetModal","modalSelector","_modalId","$info","$","attr","SetModal","modal","id","$modal","first","_id","Math","floor","random","$Modal","$TimerCounter","find","GetForm","formInfo","_formId","SetForm","form","$form","GetActiveForm","InitModal","data","UpdateModalInfo","clearFunc","_modalInfo","GetModalInfo","ShowModalForm","target","_this","$target","$counter","removeClass","addClass","css","overflow","_offset","offset","_top","_left","_width","_height","window","innerWidth","on","event","_a","CloseModal","undefined","i_1","text","setInterval","clearInterval","clearTimeout","setTimeout","SetModalForm","withEvent","deepCopy","$body","html","clone","appendTo"],"mappings":"AAAA,aACA,IAAIA,UAAaC,MAAQA,KAAKD,WAAc,SAAUE,EAASC,EAAYC,EAAGC,GAC1E,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,IAAW,MAAOG,GAAKL,EAAOK,IACpF,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,IAAW,MAAOG,GAAKL,EAAOK,IACvF,SAASF,EAAKI,GAAUA,EAAOC,KAAOT,EAAQQ,EAAOL,OAAS,IAAIN,EAAE,SAAUG,GAAWA,EAAQQ,EAAOL,SAAWO,KAAKR,EAAWK,GACnIH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,QAAmBS,WAGlEO,YAAelB,MAAQA,KAAKkB,aAAgB,SAAUjB,EAASkB,GAG/D,SAASC,EAAKC,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIC,EAAG,MAAM,IAAIC,UAAU,mCAC3B,KAAOC,GAAG,IACN,GAAIF,EAAI,EAAGG,IAAMC,EAAID,EAAU,EAARJ,EAAG,GAAS,SAAWA,EAAG,GAAK,QAAU,YAAcK,EAAIA,EAAEC,KAAKF,EAAGJ,EAAG,KAAKR,KAAM,OAAOa,EAEjH,OADID,EAAI,EAAGC,IAAGL,GAAM,EAAGK,EAAEnB,QACjBc,EAAG,IACP,KAAK,EAAG,KAAK,EAAGK,EAAIL,EAAI,MACxB,KAAK,EAAc,OAAXG,EAAEI,SAAkBrB,MAAOc,EAAG,GAAIR,MAAM,GAChD,KAAK,EAAGW,EAAEI,QAASH,EAAIJ,EAAG,GAAIA,GAAM,GAAI,SACxC,KAAK,EAAGA,EAAKG,EAAEK,IAAIC,MAAON,EAAEO,KAAKD,MAAO,SACxC,QACI,GAAMJ,EAAIF,EAAEO,OAAML,EAAIA,EAAEM,OAAS,GAAKN,EAAEA,EAAEM,OAAS,MAAkB,IAAVX,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEG,EAAI,EAAG,SACjG,GAAc,IAAVH,EAAG,MAAcK,GAAML,EAAG,GAAKK,EAAE,IAAML,EAAG,GAAKK,EAAE,IAAM,CAAEF,EAAEI,MAAQP,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYG,EAAEI,MAAQF,EAAE,GAAI,CAAEF,EAAEI,MAAQF,EAAE,GAAIA,EAAIL,EAAI,MAC7D,GAAIK,GAAKF,EAAEI,MAAQF,EAAE,GAAI,CAAEF,EAAEI,MAAQF,EAAE,GAAIF,EAAEK,IAAII,KAAKZ,GAAK,MACvDK,EAAE,IAAIF,EAAEK,IAAIC,MAChBN,EAAEO,KAAKD,MAAO,SAEtBT,EAAKJ,EAAKU,KAAK5B,EAASyB,GAC1B,MAAOd,GAAKW,GAAM,EAAGX,GAAIe,EAAI,EAAK,QAAUH,EAAII,EAAI,EACtD,GAAY,EAARL,EAAG,GAAQ,MAAMA,EAAG,GAAI,OAASd,MAAOc,EAAG,GAAKA,EAAG,QAAK,EAAQR,MAAM,GArB9BL,EAAMW,EAAGC,KAFzD,IAAsGE,EAAGG,EAAGC,EAAGQ,EAA3GV,GAAMI,MAAO,EAAGO,KAAM,WAAa,GAAW,EAAPT,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOK,QAAUF,QAC3F,OAAOK,GAAMzB,KAAMS,EAAK,GAAIkB,MAASlB,EAAK,GAAImB,OAAUnB,EAAK,IAAwB,mBAAXoB,SAA0BJ,EAAEI,OAAOC,UAAY,WAAa,OAAOzC,OAAUoC,GAyBvJM,WAAc,WAYd,OAXA,SAAoBC,EAAOC,EAAkBC,EAASC,EAAUC,EAAWC,EAAUC,GACjFjD,KAAK4C,iBAAmBA,GAAqBD,GAASA,EAAMC,kBAAqB,GACjF5C,KAAK6C,QAAUA,GAAYF,GAASA,EAAME,SAAY,GACtD7C,KAAK8C,SAAWA,GAAaH,GAASA,EAAMG,UAAa,GACzD9C,KAAK+C,UAAYA,GAAcJ,GAASA,EAAMI,YAAc,EAC5D/C,KAAKgD,SAAWA,GAAaL,GAASA,EAAMK,UAAa,EACzDhD,KAAKiD,gBAAkBA,GAAoBN,GAASA,EAAMM,kBAAoB,EAC9EjD,KAAKkD,gBAAmBP,GAASA,EAAMO,iBAAoB,GAC3DlD,KAAKmD,aAAgBR,GAASA,EAAMQ,cAAiB,GACrDnD,KAAKoD,OAAUT,GAASA,EAAMS,QAAW,IAVhC,GAcbC,UAAa,WAOb,OANA,SAAmBV,EAAOW,EAASC,EAAOC,EAAaC,GACnDzD,KAAKsD,QAAUA,GAAYX,GAASA,EAAMW,QAC1CtD,KAAKuD,MAAQA,GAAUZ,GAASA,EAAMY,MACtCvD,KAAKwD,YAAcA,GAAgBb,GAASA,EAAMa,YAClDxD,KAAKyD,UAAYA,GAAcd,GAASA,EAAMc,WALtC,GASZC,cAAiB,WAQjB,OAPA,SAAuBf,EAAOgB,EAAKC,EAAMC,EAAOC,EAAQC,GACpD/D,KAAK2D,IAAMA,GAAQhB,GAASA,EAAMgB,IAClC3D,KAAK4D,KAAOA,GAASjB,GAASA,EAAMiB,KACpC5D,KAAK6D,MAAQA,GAAUlB,GAASA,EAAMkB,MACtC7D,KAAK8D,OAASA,GAAWnB,GAASA,EAAMmB,OACxC9D,KAAK+D,eAAiBA,GAAmBpB,GAASA,EAAMoB,gBAN5C,GAUhBC,UAAa,WAMb,OALA,SAAmBC,EAAWC,EAAYC,EAAeC,GACrDpE,KAAKkE,WAAaA,GAAeD,GAAaA,EAAUC,YAAe,IAAIxB,WAC3E1C,KAAKmE,cAAgBA,GAAkBF,GAAaA,EAAUE,eAAkB,IAAIT,cACpF1D,KAAKoE,UAAYA,GAAcH,GAAaA,EAAUG,WAAc,IAAIf,WAJhE,GAQZgB,QAAW,WACX,SAASA,KA6KT,OA3KAA,EAAQC,SAAW,SAAUC,EAAe1B,GACxC,IAAI2B,EAAW3B,EACf,IAAK2B,EAAU,CACX,IAAIC,EAAQF,EAAgBG,EAAE,IAAMH,GAAiBG,EAAE,cACvDF,EAAWC,EAAQA,EAAME,KAAK,iBAAmB,GAGrD,OADYH,EAAWE,EAAE,IAAMF,GAAYxE,KAAK4E,YAGpDP,EAAQO,SAAW,SAAUC,EAAOC,GAChC,IAAIC,EAASF,EAAQH,EAAEG,GAASH,EAAE,UAAUM,QACxCC,EAAMH,GAAU,YAAcI,KAAKC,MAAsB,GAAhBD,KAAKE,UAIlD,OAHAL,EAAOJ,KAAK,KAAMM,GAClBZ,EAAQgB,OAASN,EACjBV,EAAQiB,cAAgBjB,EAAQgB,OAAOE,KAAK,kBACrClB,EAAQgB,QAEnBhB,EAAQmB,QAAU,SAAUC,EAAUrC,GAClC,IAAIsC,EAAUtC,EACd,IAAKsC,EAAS,CACV,IAAIjB,EAAQgB,EAAWf,EAAE,IAAMe,GAAYf,EAAE,cAAgBA,EAAE,cAC/DgB,EAAUjB,EAAQA,EAAME,KAAK,gBAAkB,GAGnD,OADYe,EAAUhB,EAAE,IAAMgB,GAAW1F,KAAK2F,WAGlDtB,EAAQsB,QAAU,SAAUC,EAAMd,GAC9B,IAAIe,EAAQD,EAAOlB,EAAEkB,GAAQlB,EAAE,QAAQM,QACnCC,EAAMH,GAAU,WAAaI,KAAKC,MAAsB,GAAhBD,KAAKE,UAEjD,OADAS,EAAMlB,KAAK,KAAMM,GACVY,GAEXxB,EAAQyB,cAAgB,SAAU7B,EAAWpB,GAGzC,OAFa6B,EAAEL,EAAQC,SAASL,EAAWpB,IACxB0C,KAAK,SAG5BlB,EAAQ0B,UAAY,SAAUlB,EAAOZ,GACjCI,EAAQL,UAAY,IAAIA,UAAUC,GAClCY,EAAMmB,KAAK,aAAc3B,EAAQL,YAErCK,EAAQ4B,gBAAkB,SAAUpB,EAAOZ,EAAWiC,GAElD,QADkB,IAAdA,IAAwBA,GAAY,GACpCA,EAAW,CACX,IAAIC,EAAa9B,EAAQ+B,aAAavB,GAClCsB,GAAcA,EAAW/B,WAAa+B,EAAW/B,UAAUX,WAC3D0C,EAAW/B,UAAUX,YAG7BoB,EAAMmB,KAAK,aAAc/B,IAE7BI,EAAQ+B,aAAe,SAAUvB,GAC7B,OAAO,IAAIb,UAAUa,EAAMmB,KAAK,gBAEpC3B,EAAQgC,cAAgB,SAAUC,EAAQzB,EAAOlB,EAAKC,EAAMC,EAAOC,GAC/D,IAAIyC,EAAQvG,KACR+E,EAASL,EAAEG,GACX2B,EAAU9B,EAAE4B,GACZG,EAAW1B,EAAOQ,KAAK,kBACvBtB,EAAYI,EAAQ+B,aAAavB,GAOrC,GANIZ,GAAaA,EAAUG,WAAaH,EAAUG,UAAUX,WACxDQ,EAAUG,UAAUX,YAEpBQ,EAAUC,WAAWjB,iBACrBuD,EAAQE,YAAY,WAAWC,SAAS,YAEjC,UAAPhD,GAA2B,UAARC,EACnBmB,EAAO4B,SAAS,UAChBjC,EAAE,aAAakC,KAAMC,SAAU,eAE9B,CACD9B,EAAO2B,YAAY,UACnB,IAAII,EAAUN,GAAWA,EAAQO,SAC7BC,EAAQrD,GAAOA,GAAQmD,GAAWA,EAAQnD,KAAO,IAAM,EAAI,EAAKmD,GAAWA,EAAQnD,KAAO,EAC1FsD,EAASrD,GAAQA,GAASkD,GAAWA,EAAQlD,MAAQ,IAAM,EAAI,EAAKkD,GAAWA,EAAQlD,MAAQ,EAC/FsD,EAAU7C,EAAQL,WACjBK,EAAQL,UAAUG,eAAiBE,EAAQL,UAAUG,cAAcJ,gBACjEF,GAAUA,EACbA,GAAU,EAAU,IAAO,KAAO,EAAU,EAC5CsD,EAAW9C,EAAQL,WAClBK,EAAQL,UAAUG,eAAiBE,EAAQL,UAAUG,cAAcJ,gBACjED,GAAWA,EACdA,GAAW,EAAW,IAAO,KAAO,EAAW,EACnDoD,EAASA,EAASE,OAAOC,WAAaD,OAAOC,WAAaH,EAE1DD,GADAA,EAAQA,GAAUT,EAAQ3C,SAAW,GAAK,EAAK,IAC9BqD,EAAS,EAAK,EAAI,EAAID,EAASC,EAAS,EAEzDF,GADAA,EAAOA,GAASR,EAAQ1C,UAAY,GAAK,EAAK,IAC/BqD,EAAU,EAAK,EAAI,EAAIH,EAAQG,EAAU,EACxDpC,EAAO6B,KAAMjD,IAAKqD,EAAO,KAAMpD,KAAOqD,EAAQ,EAAK,KAAMpD,MAAOqD,EAAS,KAAMpD,OAAQqD,EAAU,OAarG,GAXApC,EAAO2B,YAAY,YAAYC,SAAS,WACxC5B,EAAOQ,KAAK,uBAAuB+B,GAAG,QAAS,SAAUC,GAAS,OAAOxH,UAAUwG,OAAO,OAAQ,EAAQ,WACtG,OAAOrF,YAAYlB,KAAM,SAAUwH,GAC/B,OAAQA,EAAG1F,OACP,KAAK,EAAG,OAAQ,EAAGuC,EAAQoD,WAAW1C,OAAQ2C,EAAWlB,EAASvC,GAAaA,EAAUG,WAAaH,EAAUG,UAAUd,QAASW,GAAaA,EAAUG,WAAaH,EAAUG,UAAUb,QAC3L,KAAK,EAED,OADAiE,EAAGnF,QACK,UAIpB4B,GAAaA,EAAUC,WAAWnB,UAAW,CAC7C,IAAI4E,EAAM1D,EAAUC,WAAWlB,UAAY,EAC3CiB,EAAUG,UAAUZ,YAAc,WAAc,OAAOzD,UAAUwG,OAAO,OAAQ,EAAQ,WACpF,OAAOrF,YAAYlB,KAAM,SAAUwH,GAE/B,OADAf,EAASmB,OAAOD,IACR,QAGhB1D,EAAUG,UAAUd,QAAUuE,YAAY,WAAc,OAAO9H,UAAUwG,OAAO,OAAQ,EAAQ,WAC5F,OAAOrF,YAAYlB,KAAM,SAAUwH,GAC/B,OAAQA,EAAG1F,OACP,KAAK,EAAG,OAAQ,EAAGmC,EAAUG,UAAUZ,eACvC,KAAK,EAED,OADAgE,EAAGnF,QACK,SAGjB,KACP4B,EAAUG,UAAUX,UAAY,WAAc,OAAO1D,UAAUwG,OAAO,OAAQ,EAAQ,WAClF,OAAOrF,YAAYlB,KAAM,SAAUwH,GAC/B,OAAQA,EAAG1F,OACP,KAAK,EAID,OAHAgG,cAAc7D,EAAUG,UAAUd,SAClCyE,aAAa9D,EAAUG,UAAUb,OACjCkD,EAASmB,KAAK,KACN,EAAGvD,EAAQoD,WAAW1C,OAAQ2C,EAAWlB,IACrD,KAAK,EAED,OADAgB,EAAGnF,QACK,SAIxB4B,EAAUG,UAAUb,MAAQyE,WAAW,WAAc,OAAOjI,UAAUwG,OAAO,OAAQ,EAAQ,WACzF,OAAOrF,YAAYlB,KAAM,SAAUwH,GAC/B,OAAQA,EAAG1F,OACP,KAAK,EAAG,OAAQ,EAAGmC,EAAUG,UAAUX,aACvC,KAAK,EAED,OADA+D,EAAGnF,QACK,SAGX,IAANsF,GACPtD,EAAQ4B,gBAAgBpB,EAAOZ,GAAW,KAGlDI,EAAQ4D,aAAe,SAAUpD,EAAOe,EAAMsC,EAAWC,GACrD,IAAIpD,EAASL,EAAEG,GAEXuD,GADQ1D,EAAEkB,GACFb,EAAOQ,KAAK,gCACxB6C,EAAMC,KAAK,KACX3D,EAAEkB,GAAM0C,MAAMJ,EAAWC,GAAUzB,YAAY,UAAU6B,SAASH,GAClEA,EAAM7C,KAAK,2BAA2BmB,YAAY,2BAEtDrC,EAAQoD,WAAa,SAAU5C,EAAO0C,EAAOjB,EAAQhD,EAASC,GAC1D,OAAOxD,UAAUC,UAAM,OAAQ,EAAQ,WACnC,IAAI+E,EAAQyB,EACZ,OAAOtF,YAAYlB,KAAM,SAAUwH,GAS/B,OARAzC,EAASL,EAAEG,GACX2B,EAAUe,EAAQ7C,EAAE6C,EAAMjB,QAAUA,EAAS5B,EAAE4B,GAAU,KACzDvB,EAAO2B,YAAY,WAAWC,SAAS,YACvCH,GAAWA,EAAQE,YAAY,YAAYC,SAAS,WACpD5B,EAAOQ,KAAK,kBAAkBqC,KAAK,IACnClD,EAAE,aAAakC,KAAMC,SAAU,SAC/BiB,cAAcxE,GACdyE,aAAaxE,IACL,QAIpBc,EAAQL,UAAY,IAAIA,UACjBK,EA9KG","file":"MyModal.min.js","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar ModalMount = (function () {\n    function ModalMount(model, modalContainerId, modalId, selector, autoClose, viewTime, forceHideTarget) {\n        this.modalContainerId = modalContainerId || (model && model.modalContainerId) || '';\n        this.modalId = modalId || (model && model.modalId) || '';\n        this.selector = selector || (model && model.selector) || '';\n        this.autoClose = autoClose || (model && model.autoClose) || true;\n        this.viewTime = viewTime || (model && model.viewTime) || +'';\n        this.forceHideTarget = forceHideTarget || (model && model.forceHideTarget) || true;\n        this.formContainerId = (model && model.formContainerId) || '';\n        this.formSelector = (model && model.formSelector) || '';\n        this.formId = (model && model.formId) || '';\n    }\n    return ModalMount;\n}());\nvar TimerInfo = (function () {\n    function TimerInfo(model, counter, timer, counterFunc, timerFunc) {\n        this.counter = counter || (model && model.counter);\n        this.timer = timer || (model && model.timer);\n        this.counterFunc = counterFunc || (model && model.counterFunc);\n        this.timerFunc = timerFunc || (model && model.timerFunc);\n    }\n    return TimerInfo;\n}());\nvar DimensionInfo = (function () {\n    function DimensionInfo(model, top, left, width, height, forceDimension) {\n        this.top = top || (model && model.top);\n        this.left = left || (model && model.left);\n        this.width = width || (model && model.width);\n        this.height = height || (model && model.height);\n        this.forceDimension = forceDimension || (model && model.forceDimension);\n    }\n    return DimensionInfo;\n}());\nvar ModalInfo = (function () {\n    function ModalInfo(modalInfo, modalMount, dimensionInfo, timerInfo) {\n        this.modalMount = modalMount || (modalInfo && modalInfo.modalMount) || new ModalMount();\n        this.dimensionInfo = dimensionInfo || (modalInfo && modalInfo.dimensionInfo) || new DimensionInfo();\n        this.timerInfo = timerInfo || (modalInfo && modalInfo.timerInfo) || new TimerInfo();\n    }\n    return ModalInfo;\n}());\nvar MyModal = (function () {\n    function MyModal() {\n    }\n    MyModal.GetModal = function (modalSelector, modalId) {\n        var _modalId = modalId;\n        if (!_modalId) {\n            var $info = modalSelector ? $('#' + modalSelector) : $('#modalInfo');\n            _modalId = $info ? $info.attr('data-modal-id') : '';\n        }\n        var modal = _modalId ? $('#' + _modalId) : this.SetModal();\n        return modal;\n    };\n    MyModal.SetModal = function (modal, id) {\n        var $modal = modal ? $(modal) : $('.modal').first();\n        var _id = id ? id : 'My_Modal_' + Math.floor(Math.random() * 20);\n        $modal.attr('id', _id);\n        MyModal.$Modal = $modal;\n        MyModal.$TimerCounter = MyModal.$Modal.find('.timer-counter');\n        return MyModal.$Modal;\n    };\n    MyModal.GetForm = function (formInfo, formId) {\n        var _formId = formId;\n        if (!_formId) {\n            var $info = formInfo ? $('#' + formInfo) : $('#formInfo') || $('#modalInfo');\n            _formId = $info ? $info.attr('data-form-id') : '';\n        }\n        var $form = _formId ? $('#' + _formId) : this.SetForm();\n        return $form;\n    };\n    MyModal.SetForm = function (form, id) {\n        var $form = form ? $(form) : $('form').first();\n        var _id = id ? id : 'My_Form_' + Math.floor(Math.random() * 20);\n        $form.attr('id', _id);\n        return $form;\n    };\n    MyModal.GetActiveForm = function (modalInfo, modalId) {\n        var $modal = $(MyModal.GetModal(modalInfo, modalId));\n        var $form = $modal.find('form');\n        return $form;\n    };\n    MyModal.InitModal = function (modal, modalInfo) {\n        MyModal.ModalInfo = new ModalInfo(modalInfo);\n        modal.data('modal-info', MyModal.ModalInfo);\n    };\n    MyModal.UpdateModalInfo = function (modal, modalInfo, clearFunc) {\n        if (clearFunc === void 0) { clearFunc = true; }\n        if (clearFunc) {\n            var _modalInfo = MyModal.GetModalInfo(modal);\n            if (_modalInfo && _modalInfo.timerInfo && _modalInfo.timerInfo.timerFunc) {\n                _modalInfo.timerInfo.timerFunc();\n            }\n        }\n        modal.data('modal-info', modalInfo);\n    };\n    MyModal.GetModalInfo = function (modal) {\n        return new ModalInfo(modal.data('modal-info'));\n    };\n    MyModal.ShowModalForm = function (target, modal, top, left, width, height) {\n        var _this = this;\n        var $modal = $(modal);\n        var $target = $(target);\n        var $counter = $modal.find('.timer-counter');\n        var modalInfo = MyModal.GetModalInfo(modal);\n        if (modalInfo && modalInfo.timerInfo && modalInfo.timerInfo.timerFunc) {\n            modalInfo.timerInfo.timerFunc();\n        }\n        if (modalInfo.modalMount.forceHideTarget) {\n            $target.removeClass('zoom-in').addClass('zoom-out');\n        }\n        if (top == 'window' || left == 'window') {\n            $modal.addClass('window');\n            $('html,body').css({ overflow: 'hidden' });\n        }\n        else {\n            $modal.removeClass('window');\n            var _offset = $target && $target.offset();\n            var _top = (top ? +top : ((_offset && _offset.top || 0) <= 0 ? 0 : (_offset && _offset.top || 0)));\n            var _left = (left ? +left : ((_offset && _offset.left || 0) <= 0 ? 0 : (_offset && _offset.left || 0)));\n            var _width = (MyModal.ModalInfo &&\n                (MyModal.ModalInfo.dimensionInfo && MyModal.ModalInfo.dimensionInfo.forceDimension)\n                && width) ? +width :\n                width ? (+(width) < 250) ? 250 : +(width) : 0;\n            var _height = (MyModal.ModalInfo &&\n                (MyModal.ModalInfo.dimensionInfo && MyModal.ModalInfo.dimensionInfo.forceDimension)\n                && height) ? +height :\n                height ? (+(height) < 300) ? 300 : +(height) : 0;\n            _width = _width > window.innerWidth ? window.innerWidth : _width;\n            _left = _left + (($target.width() || 0) / 2) - 18;\n            _left = _left - (_width / 2) < 0 ? 0 : _left - (_width / 2);\n            _top = _top + (($target.height() || 0) / 2) - 10;\n            _top = _top - (_height / 2) < 0 ? 0 : _top - (_height / 2);\n            $modal.css({ top: _top + 'px', left: (_left - 5) + 'px', width: _width + 'px', height: _height + 'px' });\n        }\n        $modal.removeClass('zoom-out').addClass('zoom-in');\n        $modal.find('.btn-close, .cancel').on('click', function (event) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, MyModal.CloseModal($modal, undefined, $target, modalInfo && modalInfo.timerInfo && modalInfo.timerInfo.counter, modalInfo && modalInfo.timerInfo && modalInfo.timerInfo.timer)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        }); });\n        if (modalInfo && modalInfo.modalMount.autoClose) {\n            var i_1 = modalInfo.modalMount.viewTime || 5;\n            modalInfo.timerInfo.counterFunc = function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    $counter.text(--i_1);\n                    return [2];\n                });\n            }); };\n            modalInfo.timerInfo.counter = setInterval(function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, modalInfo.timerInfo.counterFunc()];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            }); }, 1 * 1000);\n            modalInfo.timerInfo.timerFunc = function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            clearInterval(modalInfo.timerInfo.counter);\n                            clearTimeout(modalInfo.timerInfo.timer);\n                            $counter.text('');\n                            return [4, MyModal.CloseModal($modal, undefined, $target)];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            }); };\n            modalInfo.timerInfo.timer = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4, modalInfo.timerInfo.timerFunc()];\n                        case 1:\n                            _a.sent();\n                            return [2];\n                    }\n                });\n            }); }, i_1 * 1000);\n            MyModal.UpdateModalInfo(modal, modalInfo, false);\n        }\n    };\n    MyModal.SetModalForm = function (modal, form, withEvent, deepCopy) {\n        var $modal = $(modal);\n        var $form = $(form);\n        var $body = $modal.find('.modal-content, .modal-body');\n        $body.html(' ');\n        $(form).clone(withEvent, deepCopy).removeClass('hidden').appendTo($body);\n        $body.find('.input-validation-error').removeClass('input-validation-error');\n    };\n    MyModal.CloseModal = function (modal, event, target, counter, timer) {\n        return __awaiter(this, void 0, void 0, function () {\n            var $modal, $target;\n            return __generator(this, function (_a) {\n                $modal = $(modal);\n                $target = event ? $(event.target) : target ? $(target) : null;\n                $modal.removeClass('zoom-in').addClass('zoom-out');\n                $target && $target.removeClass('zoom-out').addClass('zoom-in');\n                $modal.find('.timer-counter').text('');\n                $('html,body').css({ overflow: 'auto' });\n                clearInterval(counter);\n                clearTimeout(timer);\n                return [2];\n            });\n        });\n    };\n    MyModal.ModalInfo = new ModalInfo();\n    return MyModal;\n}());\n"]}