"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(i,c)}u((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(n){return function(i){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}var r,o,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},ToolbarOptions=function(){return function(){}}(),Toolbar=function(){function t(){}return t.prototype.InitToolbar=function(e,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,t.InitToolbar(e,n)];case 1:return[2,r.sent()]}})})},t.InitToolbar=function(e,n){return __awaiter(this,void 0,void 0,function(){var r,o=this;return __generator(this,function(a){switch(a.label){case 0:return e?r=e:((r=new ToolbarOptions).draggable=!0,r.container="body",r.$container=$("body"),r.target="#my-toolbar",r.$target=$('<div id="my-toolbar" class="my-toolbar" ></div>'),r.body="#my-body",r.$body=$('<div id="my-body" class="my-body" ></div>'),r.dragSelector="#my-drag-selector",r.$dragSelector=$('<div id="my-drag-selector" class="my-drag-selector" ><i class="fa fa-home" aria-hidden="true"></i></div>')),[4,t.CreateToolbar(r,function(e){return __awaiter(o,void 0,void 0,function(){var r=this;return __generator(this,function(o){switch(o.label){case 0:return[4,t.SetCoordinate(e)];case 1:return o.sent(),[4,t.DragElement(e,function(t){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return"function"!=typeof n?[3,2]:[4,n(t)];case 1:e.sent(),e.label=2;case 2:return[2]}})})})];case 2:return o.sent(),[2]}})})})];case 1:return a.sent(),[2]}})})},t.prototype.CreateToolbar=function(e,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,t.CreateToolbar(e,n)];case 1:return[2,r.sent()]}})})},t.CreateToolbar=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?(t.draggable&&t.$dragSelector.appendTo(t.$target),t.$body.appendTo(t.$target),t.$target.appendTo(t.$container),"function"!=typeof e?[3,2]:[4,e(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.SetCoordinate=function(e,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,t.SetCoordinate(e,n)];case 1:return[2,r.sent()]}})})},t.SetCoordinate=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,r,o,a,i,c;return __generator(this,function(u){switch(u.label){case 0:return t?(n=t.$target.offset()||{top:0,left:0},t.withinBoundary&&(r=$(t.$container).offset()||{top:0,left:0},o=$(t.$container).width()||0,a=$(t.$container).height()||0,i=$(t.$target).width()||0,c=$(t.$target).height()||0,n.top<r.top?n.top=r.top:n.top+c>r.top+a&&(n.top=r.top+a-c),n.left<r.left?n.left=r.left:n.left+i>r.left+o&&(n.left=r.left+o-i),t.$target.css({top:n.top.toString()+"px",left:n.left.toString()+"px"})),"function"!=typeof e?[3,2]:[4,e(t)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return"function"!=typeof e?[3,5]:[4,e(new ToolbarOptions)];case 4:u.sent(),u.label=5;case 5:return[2]}})})},t.prototype.DragElement=function(e,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,t.DragElement(e,n)];case 1:return[2,r.sent()]}})})},t.DragElement=function(e,n){return __awaiter(this,void 0,void 0,function(){var r,o,a,i,c,u;return __generator(this,function(s){switch(s.label){case 0:return e.startCOOR={X:0,Y:0},e.endCOOR={X:0,Y:0},e.$dragSelector&&e.$dragSelector.length>0?(o=(r=e.$dragSelector).on,a=["mousedown",{options:e,callback:n}],[4,t.DragMouseDown]):[3,2];case 1:return o.apply(r,a.concat([s.sent()])),[3,4];case 2:return c=(i=e.$target).on,u=["mousedown",{options:e,callback:n}],[4,t.DragMouseDown];case 3:c.apply(i,u.concat([s.sent()])),s.label=4;case 4:return"function"!=typeof n?[3,6]:[4,n(e)];case 5:s.sent(),s.label=6;case 6:return[2]}})})},t.prototype.DragMouseDown=function(e,n,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return[4,t.DragMouseDown(e,n,r)];case 1:return[2,o.sent()]}})})},t.DragMouseDown=function(e,n,r){return __awaiter(this,void 0,void 0,function(){var o,a,i,c,u,s,l,f,d;return __generator(this,function(p){switch(p.label){case 0:return o=n||e&&e.data.options,a=r||e&&e.data.callback,i=e||window.event,o.startCOOR={X:i.clientX,Y:i.clientY},u=(c=$(document)).on,s=["mouseup",{options:o,callback:a}],[4,t.CloseDragElement];case 1:return u.apply(c,s.concat([p.sent()])),f=(l=$(document)).on,d=["mousemove",{options:o,callback:a}],[4,t.ElementDrag];case 2:return f.apply(l,d.concat([p.sent()])),[2]}})})},t.prototype.ElementDrag=function(e,n,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return[4,t.ElementDrag(e,n,r)];case 1:return[2,o.sent()]}})})},t.ElementDrag=function(e,n,r){return __awaiter(this,void 0,void 0,function(){var o,a,i,c=this;return __generator(this,function(u){switch(u.label){case 0:return o=n||e&&e.data.options,a=r||e&&e.data.callback,i=e||window.event,[4,t.SetCoordinate(o,function(t){return __awaiter(c,void 0,void 0,function(){var e;return __generator(this,function(n){return e=t.$target.offset()||{top:0,left:0},o.endCOOR={X:o.startCOOR.X-i.clientX,Y:o.startCOOR.Y-i.clientY},o.startCOOR={X:i.clientX,Y:i.clientY},o.$target.css({top:(e.top-o.endCOOR.Y).toString()+"px",left:(e.left-o.endCOOR.X).toString()+"px"}),[2]})})})];case 1:return u.sent(),[2]}})})},t.prototype.CloseDragElement=function(e,n,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return[4,t.CloseDragElement(e,n,r)];case 1:return[2,o.sent()]}})})},t.CloseDragElement=function(t,e,n){return __awaiter(this,void 0,void 0,function(){var r,o,a;return __generator(this,function(i){return r=e||t&&t.data.options,o=n||t&&t.data.callback,a=t||window.event,$(document).off("mouseup"),$(document).off("mousemove"),[2]})})},t}();
//# sourceMappingURL=Toolbar.min.js.map
