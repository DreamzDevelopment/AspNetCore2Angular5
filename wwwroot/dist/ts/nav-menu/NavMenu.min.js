"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,l)}s((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(a=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){l.label=n[1];break}if(6===n[0]&&l.label<a[1]){l.label=a[1],a=n;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(n);break}a[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var i,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},NavMenuTool=function(){return function(e,t,n,i){this.flag=t||e&&e.flag||!1,this.control=n||e&&e.control||"",this.$control=e&&e.$control||void 0,this.inputControl=i||e&&e.inputControl||"",this.$inputControl=e&&e.$inputControl||void 0}}(),NavMenuOptions=function(){return function(){this.timerCounter=new TimerCounter}}(),NavMenu=function(){function e(){}return e.Initialize=function(){return __awaiter(this,void 0,void 0,function(){var t,n=this;return __generator(this,function(i){return this.IsInitialized||(t=setTimeout(function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.InitializeMenu()];case 1:return n.sent(),clearTimeout(t),[2]}})})},1e3)),this.IsInitialized=!0,[2]})})},e.prototype.InitializeMenu=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.InitializeMenu()];case 1:return[2,t.sent()]}})})},e.InitializeMenu=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(r){switch(r.label){case 0:return e.SiteNavigationModel?[4,e.RenderMenuItem()]:[3,2];case 1:return r.sent(),[3,4];case 2:return t="/api/apiNavigation/GetNavigationMenu",n=["template=Picture Box"].join("&"),[4,ApiCallService.HttpGetAsync(t,n,function(t){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t&&t.data?(e.SiteNavigationModel=t.data,e.SelectedTemplate=e.SiteNavigationModel.menuTemplates.find(function(t){return t.id==e.SiteNavigationModel.selectedTemplate})||new MenuTemplate,console.log(e.SiteNavigationModel),[4,e.RenderMenuItem()]):[3,3];case 1:return n.sent(),[4,e.RenderModification()];case 2:n.sent(),n.label=3;case 3:return[2]}})})})];case 3:r.sent(),r.label=4;case 4:return[2]}})})},e.prototype.RenderMenuItem=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.RenderMenuItem(t)];case 1:return[2,n.sent()]}})})},e.RenderMenuItem=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,r,a,o;return __generator(this,function(l){switch(l.label){case 0:if(!e.SiteNavigationModel)return[3,6];n=t||e.SiteNavigationModel.menuItems,i=new MenuItem,r=-1,e.MenuItemsNonRendered=[],a=function(t){var a;return __generator(this,function(o){switch(o.label){case 0:return(a=n[t])?a.parentId<=0?(r=e.MenuItemsRendered.findIndex(function(e){return e.id==a.id}))<0?[4,e.CreateMenuItem(a)]:[3,2]:[3,3]:[3,7];case 1:o.sent(),e.MenuItemsRendered.push(a),o.label=2;case 2:return[3,7];case 3:return!(i=e.MenuItemsRendered.find(function(e){return e.id==a.parentId})||new MenuItem)||i.id<=0?((i=n.find(function(e){return e.id==a.parentId})||new MenuItem)&&i.id>0&&((r=e.MenuItemsNonRendered.findIndex(function(e){return e.id==i.id}))<0&&e.MenuItemsNonRendered.push(i),(r=e.MenuItemsNonRendered.findIndex(function(e){return e.id==a.id}))<0&&e.MenuItemsNonRendered.push(a)),[3,7]):[3,4];case 4:return i?(r=e.MenuItemsRendered.findIndex(function(e){return e.id==a.id}))<0?[4,e.CreateMenuItem(a,i)]:[3,6]:[3,7];case 5:o.sent(),e.MenuItemsRendered.push(a),o.label=6;case 6:return[3,7];case 7:return[2]}})},o=0,l.label=1;case 1:return o<n.length?[5,a(o)]:[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return e.MenuItemsNonRendered.length>0?[4,e.RenderMenuItem(e.MenuItemsNonRendered)]:[3,6];case 5:l.sent(),l.label=6;case 6:return[2]}})})},e.prototype.CreateMenuItem=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,e.CreateMenuItem(t,n)];case 1:return[2,i.sent()]}})})},e.CreateMenuItem=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,r,a,o,l,s,c,d,u,f,h,p,v,_,g,m,C,b,w,S,M,I;return __generator(this,function(y){switch(y.label){case 0:return t&&e.SelectedTemplate&&e.SelectedTemplate.id>0?(i="menu_item_"+(t.parentId&&t.parentId>=0?t.parentId:"0")+"_"+t.id,r=void 0,a=void 0,o=void 0,n?(l="menu_item_"+(n.parentId&&n.parentId>=0?n.parentId:"0")+"_"+n.id,(o=$.parseHTML(e.SelectedTemplate.childElement.html))[0].setAttribute("id",i),p=$("#"+l+"_child_section").find("#"+l+"_child_section-last-child"),(!(v=$("#"+l+"_child_section").find("#"+l+"_child_section-first-child"))||v.length<=0)&&$("#"+l+"_child_section").append('<i id="'+l+'_child_section-first-child" class="first-child" >first child</i>'),(!p||p.length<=0)&&$("#"+l+"_child_section").append('<i id="'+l+'_child_section-last-child" class="last-child" >last child</i>'),$(o).insertAfter($("#"+l+"_child_section").find("#"+l+"_child_section-first-child")),$("#"+i).data("level",$("#"+l).data("level")+1),e.MenuMaxLevel=e.MenuMaxLevel>$("#"+i).data("level")?e.MenuMaxLevel:$("#"+i).data("level"),(a=$("#"+i).find(e.SelectedTemplate.childElement.selectorBtn)).attr({id:i+"_child_control",title:t.description,href:t.target}).addClass("anchor-"+$("#"+i).data("level")).addClass("gradient-animation"),t.iconHtml?a.find("span:first-of-type").html(t.iconHtml+"&nbsp;&nbsp;"):t.iconUrl&&a.find("span:first-of-type").html('<i class="fa-img fa-generic" style="background-image: url(/images/icons/success.svg);" ></i>&nbsp;&nbsp;'),a.find("span:last-of-type").text(t.title),(r=$("#"+i).find(".img-box")).append('<img class="img-responsive" src="/images/icons/loading_animation.gif" />'),t.imageUrl&&r.find("img").attr("src",t.imageUrl),t.menuItems&&t.menuItems.length>=1?(_=$("#"+i+"_child_caret")).length<=0?(_=$('<i class="fa fa-caret-right child-caret" ></i>'),$("#"+i).find(e.SelectedTemplate.childElement.selectorBtn).append(_),g=new MenuControlOption,g.menuLevel=$("#"+i).data("level"),g.elementSelector="#"+$("#"+l+"_child_section").attr("id"),g.btnSelector="#"+i+"_child_control",g.targetSelector="#"+i+"_child_section",c=(s=_).on,d=["click"],u={data:g},[4,e.ShowHideChildSection]):[3,2]:[3,3]):[3,4]):[3,7];case 1:c.apply(s,d.concat([(u.handler=y.sent(),u)])),y.label=2;case 2:(S=$("#"+i+"_child_section")).length<=0&&((S=$('<div class="child-section collapse in" ></div>')).attr("id",i+"_child_section").addClass("level-"+$("#"+i).data("level")),f=$("#"+l+"_child_section").find("#"+l+"_child_section-last-child"),(!(h=$("#"+l+"_child_section").find("#"+l+"_child_section-first-child"))||h.length<=0)&&$("#"+l+"_child_section").append('<i id="'+l+'_child_section-first-child" class="first-child" >first child</i>'),(!f||f.length<=0)&&$("#"+l+"_child_section").append('<i id="'+l+'_child_section-last-child" class="last-child" >last child</i>'),S.insertBefore($("#"+l+"_child_section").find("#"+l+"_child_section-last-child"))),y.label=3;case 3:return[3,7];case 4:return(o=$.parseHTML(e.SelectedTemplate.rootElement.html))[0].setAttribute("id",i),p=$(e.SiteNavigationModel.selectorBase).find("#selectorBase-last-child"),(!(v=$(e.SiteNavigationModel.selectorBase).find("#selectorBase-first-child"))||v.length<=0)&&$(e.SiteNavigationModel.selectorBase).append('<i id="selectorBase-first-child" class="first-child" >first child</i>'),(!p||p.length<=0)&&$(e.SiteNavigationModel.selectorBase).append('<i id="selectorBase-last-child" class="last-child" >last child</i>'),$(o).insertAfter($(e.SiteNavigationModel.selectorBase).find("#selectorBase-first-child")),$("#"+i).data("level",0),e.MenuMaxLevel=e.MenuMaxLevel>$("#"+i).data("level")?e.MenuMaxLevel:$("#"+i).data("level"),(a=$("#"+i).find(e.SelectedTemplate.rootElement.selectorBtn)).attr({id:i+"_child_control",title:t.description,href:t.target}).addClass("opened").addClass("anchor-"+$("#"+i).data("level")),t.iconHtml?a.find("span:first-of-type").html(t.iconHtml+"&nbsp;&nbsp;").addClass("span-item"):t.iconUrl&&a.find("span:first-of-type").html('<i class="fa-img fa-generic" style="background-image: url('+t.iconUrl+');" ></i>&nbsp;&nbsp;').addClass("span-item"),a.find("span:last-of-type").text(t.title).addClass("span-item"),t.menuItems&&t.menuItems.length>=1?(_=$("#"+i+"_child_caret")).length<=0?((_=$('<i class="fa fa-caret-right child-caret" ></i>')).addClass("span-item"),$("#"+i).find(e.SelectedTemplate.rootElement.selectorBtn).append(_),g=new MenuControlOption,g.menuLevel=$("#"+i).data("level"),g.elementSelector="#"+i,g.btnSelector="#"+i+"_child_control",g.targetSelector="#"+i+"_child_section",C=(m=_).on,b=["click"],w={data:g},[4,e.ShowHideChildSection]):[3,6]:[3,7];case 5:C.apply(m,b.concat([(w.handler=y.sent(),w)])),y.label=6;case 6:(S=$("#"+i+"_child_section")).length<=0&&((S=$('<div class="child-section collapse" ></div>')).attr("id",i+"_child_section").addClass("level-"+$("#"+i).data("level")),M=$("#"+i).find("#"+i+"-last-child"),(!(I=$("#"+i).find("#"+i+"-first-child"))||I.length<=0)&&$("#"+i).append('<i id="'+i+'-first-child" class="first-child" >first child</i>'),(!M||M.length<=0)&&$("#"+i).append('<i id="'+i+'-last-child" class="last-child" >last child</i>'),S.insertBefore($("#"+i).find("#"+i+"-last-child"))),y.label=7;case 7:return[2]}})})},e.prototype.ShowHideChildSection=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.ShowHideChildSection(t)];case 1:return[2,n.sent()]}})})},e.ShowHideChildSection=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,r;return __generator(this,function(a){if(t&&t.preventDefault(),t.data&&(n=new MenuControlOption(t.data)).elementSelector&&n.btnSelector)if(i=$(n.elementSelector).find(n.btnSelector).hasClass("opened"))for(r=e.MenuMaxLevel;r>=0;r--)r>=n.menuLevel&&($(n.elementSelector).find(".level-"+r).removeClass("in").addClass("in"),$(n.elementSelector).find(".anchor-"+r).removeClass("opened gradient-animation-light").addClass("gradient-animation").find("span,i").removeClass("span-item"));else n.targetSelector&&($(n.targetSelector).siblings(".level-"+n.menuLevel).removeClass("in").addClass("in"),$(n.targetSelector).removeClass("in"),$(n.elementSelector).find(".anchor-"+n.menuLevel).removeClass("opened gradient-animation-light").addClass("gradient-animation").find("span,i").removeClass("span-item"),$(n.elementSelector).find(n.btnSelector).removeClass("gradient-animation").addClass("opened gradient-animation-light").find("span,i").addClass("span-item"));return[2]})})},e.prototype.RenderModification=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.RenderModification()];case 1:return[2,t.sent()]}})})},e.RenderModification=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e.prototype.ToggleNav=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.ToggleNav(t)];case 1:return[2,n.sent()]}})})},e.ToggleNav=function(t){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return n=t?$(t.target):void 0,(n=n.is(".span-item")?n:n.find(".span-item"))&&n.length>0?"☰"!==n.text()&&n.data("expanded")?[3,2]:[4,e.OpenNav(void 0,n)]:[3,4];case 1:return i.sent(),[3,4];case 2:return[4,e.CloseNav(void 0,n,void 0)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},e.prototype.OpenNav=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,e.OpenNav(t,n)];case 1:return[2,i.sent()]}})})},e.OpenNav=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,r,a,o,l,s,c,d,u=this;return __generator(this,function(f){if((i=t?$(t.target):n?$(n):void 0)&&i.length>0&&(r=i.data("$parent")||$(i.data("parent"))||void 0)&&r.length>0){if(!(a=r.data("options")||void 0)||"string"==typeof a){o=(o=r.data("options")||"")&&o.toString().replace(/\'/g,'"');try{a=JSON.parse(o)}catch(e){return console.log(e),[2]}}if(a.elements&&a.elements.length>2)for(l=a.elements.split(","),s=0;s<l.length;s++)(c=r.find(l[s]))&&c.length>0&&c.addClass("active");a.$target=$("."+r.attr("id")),a.$parent=r,a.$target.data({$parent:r,expanded:!0}).text("X"),r.data("options",a),d=setTimeout(function(){return __awaiter(u,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return r.hasClass("in")||r.attr({"aria-expanded":!0}).addClass("in"),a.fullScreen&&a.fullScreen.flag&&$("body").css("overflow","hidden"),[4,e.InitToolbar(void 0,void 0,a.$parent)];case 1:return t.sent(),[4,e.AutoClose(void 0,void 0,a.$parent)];case 2:return t.sent(),clearTimeout(d),[2]}})})},500)}return[2]})})},e.prototype.InitToolbar=function(t,n,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,e.InitToolbar(t,n,i)];case 1:return[2,r.sent()]}})})},e.InitToolbar=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var r,a,o,l,s,c=this;return __generator(this,function(d){switch(d.label){case 0:if(!(r=$(i))||r.length<=0){if(!(a=t?$(t.target):n?$(n):void 0)||a.length<=0)return[2];r=a.data("$parent")||$(a.data("parent"))||void 0}return(o=r.data("options"))?o.toolbarOptions?[4,Toolbar.SetCoordinate(o.toolbarOptions,function(e){return __awaiter(c,void 0,void 0,function(){return __generator(this,function(t){return o.toolbarOptions=e,r.data({options:o}),[2]})})})]:[3,2]:[3,4];case 1:return d.sent(),[3,4];case 2:return l=new ToolbarOptions,l.$container=$(o.$parent),l.draggable=!0,l.withinBoundary=!0,s=l.$container.attr("id")||"my-"+Math.floor(20*Math.random()),l.target="#toolbar-"+s,l.$target=$('<div id="'+l.target+'" class="nav-toolbar active" ></div>'),l.body="#body-"+s,l.$body=$('<div id="'+l.body+'" class="toolbar-body" ></div>'),l.dragSelector="#drag-selector-"+s,l.$dragSelector=$('<div id="'+l.dragSelector+'" class="toolbar-drag-selector" ><i class="fa fa fa-arrows" aria-hidden="true"></i></div>'),[4,e.InitTools(o,function(t){return __awaiter(c,void 0,void 0,function(){var n,i,r,a,s,c=this;return __generator(this,function(d){switch(d.label){case 0:if(!t||void 0==t)return[3,3];for(o=t,n=0;n<o.$controls.length;n++)$(o.$controls[n]).appendTo(l.$body);return[4,Toolbar.InitToolbar(l,function(e){return __awaiter(c,void 0,void 0,function(){return __generator(this,function(t){return o&&(o.toolbarOptions=e),[2]})})})];case 1:return d.sent(),o.elements+=",.nav-toolbar",o.$parent.data({options:o}),i=$('<div class="control toolbar-base">+</div>'),a=(r=i.attr({title:"Click to view toolbar"}).data({parent:o.parent,$parent:o.$parent})).on,s=["click"],[4,e.InitToolbar];case 2:a.apply(r,s.concat([d.sent()])),i.prependTo($(o.$parent).find("nav")),d.label=3;case 3:return[2]}})})})];case 3:d.sent(),d.label=4;case 4:return[2]}})})},e.prototype.InitTools=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.InitTools(t)];case 1:return[2,n.sent()]}})})},e.InitTools=function(t,n){return __awaiter(this,void 0,void 0,function(){var i,r,a,o,l,s,c;return __generator(this,function(d){switch(d.label){case 0:return t?t.$controls&&t.$controls.length>0?[3,4]:[3,1]:[3,6];case 1:return t.$controls=[],i=new NavMenuTool(void 0,!0,"#auto-close","#delay-secs"),i.$control=$('<div id="'+i.control.toString().replace("#","")+'" class="control"></div>'),a=(r=i.$control.attr({title:"Auto Close Menu?"}).data({parent:t.parent,$parent:t.$parent})).on,o=["click"],[4,e.SetAutoClose];case 2:return a.apply(r,o.concat([d.sent()])),$('<i class="fa" aria-hidden="true"></i>').addClass(i&&!0===i.flag?" fa-unlock":" fa-lock").appendTo(i.$control),t.$controls.push(i.$control),i.$inputControl=$('<div id="'+i.inputControl.toString().replace("#","")+'" class="control"></div>'),$('<input type="tel" class="fa" />').attr({title:"Set null/empty to remove timer",maxLength:2,max:99}).data({parent:t.parent,$parent:t.$parent}).val(9).prop("disabled",!i.flag).appendTo(i.$inputControl),t.$controls.push(i.$inputControl),t.autoClose=i,i=new NavMenuTool(void 0,!1,"#full-screen"),i.$control=$('<div id="'+"".toString().replace("#","")+'" class="control"></div>'),s=(l=i.$control.attr({title:"FullScreen ? Restore"}).data({parent:t.parent,$parent:t.$parent})).on,c=["click"],[4,e.SetFullScreen];case 3:s.apply(l,c.concat([d.sent()])),$('<i class="fa" aria-hidden="true"></i>').addClass(i&&!0===i.flag?" fa-window-restore":" fa-arrows-alt").appendTo(i.$control),t.$controls.push(i.$control),t.fullScreen=i,d.label=4;case 4:return"function"!=typeof n?[3,6]:[4,n(t)];case 5:d.sent(),d.label=6;case 6:return[2]}})})},e.prototype.AutoClose=function(t,n,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,e.AutoClose(t,n,i)];case 1:return[2,r.sent()]}})})},e.AutoClose=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var r,a,o,l,s,c,d,u,f,h,p=this;return __generator(this,function(v){switch(v.label){case 0:if(!(r=$(i))||r.length<=0){if(!(a=t?$(t.target):n?$(n):void 0)||a.length<=0)return[2];r=a.data("$parent")||$(a.data("parent"))||void 0}return(o=r.data("options"))&&(o.autoClose&&!0===o.autoClose.flag)?(l=o.autoClose.$inputControl?o.autoClose.$inputControl.find("input").val():0)&&+l>0?o.timerCounter&&o.timerCounter.options?(s=o.timerCounter.options,[4,o.timerCounter.CountDayHourMinSec(o.timerCounter.options.selectorObj,o.timerCounter.options.counterObj,0,0,0,+l,function(t){return __awaiter(p,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.CloseNav(void 0,void 0,r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})})]):[3,2]:[3,5]:[3,7];case 1:return s.activeCounterId=v.sent(),r.data({options:o}),[3,4];case 2:return o.timerCounter=new TimerCounter,o.timerCounter.options.counterObj="Counter_"+o.parent.replace(/\#/,""),c=$('<i class="counter-on-nav zoom-out"></i>'),$('<i class="secs-time"></i>').appendTo(c),c.attr({id:o.timerCounter.options.counterObj,title:"NavMenu will close automatically in..."}).removeClass("zoom-out").addClass("zoom-in").appendTo($(o.$parent).find("nav")),o.timerCounter.options.selectorObj=c,d=o.timerCounter.options,[4,o.timerCounter.CountDayHourMinSec(o.timerCounter.options.selectorObj,o.timerCounter.options.counterObj,0,0,0,+l,function(t){return __awaiter(p,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return t?[4,e.CloseNav(void 0,void 0,r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})})];case 3:d.activeCounterId=v.sent(),r.data({options:o}),v.label=4;case 4:return[3,7];case 5:return f=(u=$(document)).one,h=["click",{$parent:r}],[4,e.CloseNav];case 6:f.apply(u,h.concat([v.sent()])),v.label=7;case 7:return[2]}})})},e.prototype.CloseNav=function(t,n,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,e.CloseNav(t,n,i)];case 1:return[2,r.sent()]}})})},e.CloseNav=function(t,n,i){return __awaiter(this,void 0,void 0,function(){var r,a,o;return __generator(this,function(l){switch(l.label){case 0:return t?[4,e.CloseOnEvent(t)]:[3,2];case 1:return l.sent(),[3,4];case 2:if(!(r=$(i))||r.length<=0){if(!(a=n?$(n):void 0)||a.length<=0)return[2];r=a.data("$parent")||$(a.data("parent"))||void 0}return o=r&&r.data("options"),[4,e.CloseOnOptions(o)];case 3:l.sent(),l.label=4;case 4:return[2]}})})},e.prototype.CloseOnEvent=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.CloseOnEvent(t)];case 1:return[2,n.sent()]}})})},e.CloseOnEvent=function(t){return __awaiter(this,void 0,void 0,function(){var n,i,r,a,o,l,s;return __generator(this,function(c){switch(c.label){case 0:return t&&((n=$(t.target)||void 0)&&n.length>0&&t&&t.data)?!(i=n.parents(".nav-body"))||i.length<=0?((!(r=t.data.$parent||$(t.data.parent))||r.length<=0)&&(r=n.data("$parent")||$(n.data("parent"))||void 0),a=r&&r.data("options"),[4,e.CloseOnOptions(a)]):[3,2]:[3,4];case 1:return c.sent(),[3,4];case 2:return l=(o=$(document)).one,s=["click",t&&t.data],[4,e.CloseNav];case 3:l.apply(o,s.concat([c.sent()])),c.label=4;case 4:return[2]}})})},e.prototype.CloseOnOptions=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,e.CloseOnOptions(t)];case 1:return[2,n.sent()]}})})},e.CloseOnOptions=function(e){return __awaiter(this,void 0,void 0,function(){var t,n,i,r=this;return __generator(this,function(a){return e&&(t=$(e.$target)||void 0)&&t.length>0&&(n=$(e.$parent)||void 0)&&n.length>0&&(t.data({expanded:!1}).text("☰"),n.find(".active").removeClass("active"),i=setTimeout(function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(t){return n.hasClass("in")&&n.removeClass("in").attr({"aria-expanded":!1}),e.fullScreen&&!0===e.fullScreen.flag&&$("body").css("overflowY","auto"),clearTimeout(i),[2]})})},500),e.timerCounter&&e.timerCounter.options&&(clearInterval(e.timerCounter.options.activeCounterId),$(e.timerCounter.options.selectorObj).children('[class$="-time"]').text(""))),[2]})})},e.prototype.SetAutoClose=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,e.SetAutoClose(t,n)];case 1:return[2,i.sent()]}})})},e.SetAutoClose=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(r){return n=e?$(e.target):void 0,(n=n.is(".control")?n:n.parent(".control")||n.find(".control"))&&n.length>0&&(i=n.data("$parent")||$(n.data("parent"))||n.parents(".nav-body")||void 0)&&i.length>0&&(t||(t=i.data("options")),t&&t.autoClose&&(t.autoClose.flag?t.autoClose.$control.find("i").removeClass("fa-unlock").addClass("fa-lock"):t.autoClose.$control.find("i").removeClass("fa-lock").addClass("fa-unlock"),t.autoClose.flag=!t.autoClose.flag,i.data({options:t}),n.data({$parent:i}))),[2]})})},e.prototype.SetFullScreen=function(t,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,e.SetFullScreen(t,n)];case 1:return[2,i.sent()]}})})},e.SetFullScreen=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,i;return __generator(this,function(r){return n=e?$(e.target):void 0,(n=n.is(".control")?n:n.parent(".control")||n.find(".control"))&&n.length>0&&(i=n.data("$parent")||$(n.data("parent"))||n.parents(".nav-body")||void 0)&&i.length>0&&(t||(t=i.data("options")),t&&t.fullScreen&&(!1===t.fullScreen.flag?(t.fullScreen.$control.find("i").removeClass("fa-arrows-alt").addClass("fa-window-restore"),i.addClass("full-screen"),$("body").css("overflow","hidden"),t.fullScreen.flag=!0):($("body").css("overflowY","auto"),t.fullScreen.$control.find("i").removeClass("fa-window-restore").addClass("fa-arrows-alt"),i.removeClass("full-screen"),t.fullScreen.flag=!1),i.data({options:t}),n.data({$parent:i}))),[2]})})},e.IsInitialized=!1,e.MenuItemsRendered=[],e.MenuItemsNonRendered=[],e.MenuMaxLevel=0,e}();!function(e){e.Initialize()}(NavMenu||(NavMenu={}));
//# sourceMappingURL=NavMenu.min.js.map
