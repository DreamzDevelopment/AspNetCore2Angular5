"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,i)}u((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(n){return function(o){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,a&&(s=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(a,n[1])).done)return s;switch(a=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return i.label++,{value:n[1],done:!1};case 5:i.label++,a=n[1],n=[0];continue;case 7:n=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){i=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){i.label=n[1];break}if(6===n[0]&&i.label<s[1]){i.label=s[1],s=n;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(n);break}s[2]&&i.ops.pop(),i.trys.pop();continue}n=t.call(e,i)}catch(e){n=[6,e],a=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}var r,a,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},ApiCallService=function(){function e(){}return e.prototype.HttpGetAsync=function(t,n,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return[4,e.HttpGetAsync(t,n,r)];case 1:return[2,a.sent()]}})})},e.prototype.HttpPostAsync=function(t,n,r,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:return[4,e.HttpPostAsync(t,n,r,a)];case 1:return[2,s.sent()]}})})},e.HttpGetAsync=function(e,t,n){return __awaiter(this,void 0,void 0,function(){var r,a,s=this;return __generator(this,function(o){return r=new MyResponse(void 0,!1,MyMessage.GetMessageText(MessageId.msgFailedReq)),a={},a.type="get",a.url=e,a.data=t,a.dataType="json",a.cache=!1,a.async=!0,a.headers={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;","Content-Length":t.length?t.length.toString():null,Connection:"close"},a.success=function(e){return __awaiter(s,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return r.result=!0,r.message=MyMessage.GetMessageText(MessageId.msgSuccessReq),r.data=e,[4,n(r)];case 1:return t.sent(),[2]}})})},a.error=function(e,t,a){return __awaiter(s,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return r.message=e.statusText+" : "+e.responseText+" : "+MyMessage.GetMessageText(MessageId.msgTryAgain),[4,n(r)];case 1:return t.sent(),[2]}})})},a.complete=function(e,t){return __awaiter(s,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},$.ajax(a),[2]})})},e.HttpPostAsync=function(e,t,n,r){return __awaiter(this,void 0,void 0,function(){var a,s,o=this;return __generator(this,function(i){return a=new MyResponse(void 0,!1,MyMessage.GetMessageText(MessageId.msgFailedReq)),s={},s.type="post",s.url=e,s.data=t,s.dataType="json",s.cache=!1,s.async=!0,s.headers={RequestVerificationToken:n,"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;","Content-Length":t.length?t.length.toString():null,Connection:"close"},s.success=function(e){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return a=new MyResponse(e),[4,r(a)];case 1:return t.sent(),[2]}})})},s.error=function(e,t,n){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return a.message=e.statusText+" : "+e.responseText+" : "+MyMessage.GetMessageText(MessageId.msgTryAgain),[4,r(a)];case 1:return t.sent(),[2]}})})},s.complete=function(e,t){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},$.ajax(s),[2]})})},e.MyFormSubmit=function(t,n,r){return void 0===n&&(n="input,textarea,select"),__awaiter(this,void 0,void 0,function(){var a,s,o,i,u,c,l,f,d,g,_,h,p,v,y=this;return __generator(this,function(w){switch(w.label){case 0:return a={result:!1,message:MyMessage.GetMessageText(MessageId.msgFailedReq)},t.preventDefault(),!(s=t?$(t.target):null)||s.length<=0?[4,r(a)]:[3,2];case 1:w.sent(),w.label=2;case 2:return o=s.attr("method")?s.attr("method"):"post",i=s.attr("action")?s.attr("action"):null,[4,e.GetModel(t.target,n)];case 3:switch(u=w.sent(),c=s.attr("asp-anti-forgery")?s.attr("asp-anti-forgery"):null,s.find(".submit").removeClass("zoom-in").addClass("zoom-out"),s.find(".submit").next("a.btn").removeClass("zoom-out").addClass("zoom-in"),l=o&&o.toLowerCase()){case"get":return[3,4];case"patch":case"put":case"delete":case"post":return[3,7]}return[3,10];case 4:return d=(f=e).HttpGetAsync,g=[i,u],[4,r];case 5:return[4,d.apply(f,g.concat([w.sent()]))];case 6:return w.sent(),[3,12];case 7:return h=(_=e).HttpPostAsync,p=[i,u,c],[4,r];case 8:return[4,h.apply(_,p.concat([w.sent()]))];case 9:return w.sent(),[3,12];case 10:return[4,r(a)];case 11:return w.sent(),[3,12];case 12:return v=setTimeout(function(){return __awaiter(y,void 0,void 0,function(){return __generator(this,function(e){return s.find(".submit").next("a.btn").removeClass("zoom-in").addClass("zoom-out"),s.find(".submit").removeClass("zoom-out").addClass("zoom-in"),clearTimeout(v),[2]})})},500),[2]}})})},e.GetModel=function(e,t,n){return void 0===t&&(t="input,textarea,select"),void 0===n&&(n=!0),__awaiter(this,void 0,void 0,function(){var r,a,s,o,i,u,c,l;return __generator(this,function(f){r=$(e),a=Array.from(r.find(t||"input,textarea,select")),s="",o="",i="",u={};for(c in a)a.hasOwnProperty(c)&&(l=a[c],s=(s=l&&$(l).attr("id")?$(l).attr("id"):"")?s.replace(/_/gi,"."):"",o=l&&$(l).attr("name")?$(l).attr("name"):"",!s||!o||s!=o&&n||(i=$(l).val(),u[o]=i));return[2,u]})})},e.TestFormSubmit=function(t){return __awaiter(this,void 0,void 0,function(){var n,r=this;return __generator(this,function(a){switch(a.label){case 0:return t.preventDefault(),n=$(t.target),[4,MyValidator.FormValidator(t.target,function(e){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(e){return[2]})})})];case 1:return a.sent(),[4,MyValidator.FormValidator(n,function(n){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return n&&n.result?[4,e.MyFormSubmit(t,"input,textarea,select",function(e){e&&MyMessage.MessageSection(e.message,MessageType.info,!0," ",10)})]:[3,2];case 1:return r.sent(),[3,3];case 2:MyMessage.MessageSection(n.message,MessageType.warn,!0," ",5),r.label=3;case 3:return[2]}})})})];case 2:return a.sent(),[2]}})})},e.CallGoogleApi=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return console.log(e.target),[2]})})},e}();
//# sourceMappingURL=ApiCallService.min.js.map
